# 实现计划

- [ ] 1. 修改 HTML 文件中的评论 JavaScript 代码
  - 在 data/home-body.html 中找到评论相关的 JavaScript 代码
  - 删除硬编码的假评论 HTML 数据
  - 实现 `load_comment()` 函数，调用 `/api/comments.ajax` API
  - 实现 `renderComments()` 函数，将 API 返回的数据渲染为 HTML
  - 实现 `generateCommentHTML()` 函数，生成单个评论的 HTML 结构
  - 确保生成的 HTML 结构与原有结构完全一致
  - 在页面加载时自动调用 `load_comment()` 函数
  - _需求: 1.1, 2.1, 2.2_

- [ ] 2. 更新评论数量和分页显示
  - 实现 `updateCommentCount()` 函数，更新 `#comment_count` 显示
  - 实现 `updatePagination()` 函数，更新分页按钮
  - 确保分页按钮点击时调用 `load_comment()` 加载对应页面
  - _需求: 1.1, 2.1_

- [ ] 3. 确保评论提交功能正常工作
  - 验证现有的评论提交表单和 JavaScript 代码
  - 确保提交后自动刷新评论列表
  - 确保提交后滚动到评论区域
  - _需求: 2.2_

- [ ] 4. 确保评论投票功能正常工作
  - 验证 `comment_vote()` 函数调用 `/api/comment-vote.ajax`
  - 确保投票后更新评论的点赞/点踩数量
  - _需求: 2.2_

- [ ] 5. 确保评论回复功能正常工作
  - 验证 `reply_to()` 函数正常工作
  - 确保回复评论后显示在父评论下方
  - _需求: 2.2_

- [ ] 6. 测试和验证
  - 在浏览器中访问首页，验证评论从数据库加载
  - 测试评论排序功能（最新、最早、最热门）
  - 测试评论分页功能
  - 测试提交新评论
  - 测试回复评论
  - 测试点赞/点踩功能
  - 验证所有样式保持不变
  - 验证页面布局没有变化
  - _需求: 1.1, 2.1, 2.2, 2.3_
