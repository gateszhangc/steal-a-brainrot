async function finalAttempt() {
  const supabaseUrl = 'https://ptukqwqbpjzqpqzvlrle.supabase.co'
  const serviceKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0dWtxd3FicGp6cXBxenZscmxlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjgyOTcwOSwiZXhwIjoyMDc4NDA1NzA5fQ.OtYT3SuQgbACbWOR6hHAEsKNqkUhMEOcb7d-QqSnXTc'

  console.log('ğŸš€ æœ€åå°è¯•ï¼šç›´æ¥æ¨¡æ‹Ÿ Supabase Dashboard API è¯·æ±‚...')

  // ç®€å•çš„è¡¨åˆ›å»º SQL
  const simpleSQL = `
    CREATE TABLE IF NOT EXISTS comments (
      id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
      author VARCHAR(100) NOT NULL,
      email VARCHAR(255) NOT NULL,
      content TEXT NOT NULL,
      game_id VARCHAR(100) NOT NULL DEFAULT 'steal-brainrot',
      status VARCHAR(20) NOT NULL DEFAULT 'pending',
      ip_address INET,
      created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
      updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
    );

    ALTER TABLE comments ENABLE ROW LEVEL SECURITY;

    CREATE POLICY IF NOT EXISTS "Anyone can view approved comments" ON comments
      FOR SELECT USING (status = 'approved');

    CREATE POLICY IF NOT EXISTS "Anyone can insert comments" ON comments
      FOR INSERT WITH CHECK (true);
  `

  const endpoints = [
    // å°è¯•å„ç§å¯èƒ½çš„ SQL æ‰§è¡Œç«¯ç‚¹
    `${supabaseUrl}/functions/v1/sql`,
    `${supabaseUrl}/api/v1/sql`,
    `${supabaseUrl}/rest/v1/sql`,
    `${supabaseUrl}/database/v1/query`,
    `${supabaseUrl}/pg/v1/query`,
    `${supabaseUrl}/sql/v1/execute`,
    `${supabaseUrl}/query`,
    `${supabaseUrl}/execute`
  ]

  for (const endpoint of endpoints) {
    console.log(`\nğŸ“‹ å°è¯•ç«¯ç‚¹: ${endpoint}`)

    try {
      const response = await fetch(endpoint, {
        method: 'POST',
        headers: {
          'apikey': serviceKey,
          'Authorization': `Bearer ${serviceKey}`,
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: JSON.stringify({
          query: simpleSQL.trim(),
          sql: simpleSQL.trim(),
          statement: simpleSQL.trim(),
          sql_string: simpleSQL.trim()
        })
      })

      console.log(`çŠ¶æ€ç : ${response.status}`)

      if (response.ok) {
        const result = await response.text()
        console.log('âœ… æˆåŠŸ! ç»“æœ:', result)

        // éªŒè¯è¡¨æ˜¯å¦åˆ›å»ºæˆåŠŸ
        const verifyResponse = await fetch(`${supabaseUrl}/rest/v1/comments?select=count()`, {
          headers: {
            'apikey': serviceKey,
            'Authorization': `Bearer ${serviceKey}`,
            'Prefer': 'count=exact'
          }
        })

        if (verifyResponse.ok) {
          console.log('ğŸ‰ è¡¨åˆ›å»ºæˆåŠŸå¹¶éªŒè¯é€šè¿‡!')
          return
        }
      } else {
        const error = await response.text()
        console.log('âŒ å¤±è´¥:', error)
      }
    } catch (err) {
      console.log('âŒ è¯·æ±‚é”™è¯¯:', err.message)
    }
  }

  console.log('\nâŒ æ‰€æœ‰è‡ªåŠ¨åŒ–æ–¹æ³•éƒ½å¤±è´¥äº†')
  console.log('\nğŸ¯ å”¯ä¸€è§£å†³æ–¹æ¡ˆï¼šæ‰‹åŠ¨åœ¨ Supabase Dashboard ä¸­æ‰§è¡Œ SQL')
  console.log('\nğŸ“‹ è¯¦ç»†æ­¥éª¤ï¼š')
  console.log('1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š')
  console.log('   https://supabase.com/dashboard/project/ptukqwqbpjzqpqzvlrle/sql')
  console.log('2. å¤åˆ¶ä»¥ä¸‹ SQL ä»£ç ï¼š')
  console.log('   ' + '=' .repeat(50))
  console.log(simpleSQL)
  console.log('   ' + '=' .repeat(50))
  console.log('3. ç²˜è´´åˆ° SQL Editor ä¸­')
  console.log('4. ç‚¹å‡» "RUN" æŒ‰é’®æ‰§è¡Œ')
  console.log('5. ç­‰å¾…æ‰§è¡Œå®Œæˆ')
  console.log('6. æ‰§è¡Œå®Œæˆåï¼Œé‡æ–°è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯')
}

finalAttempt()